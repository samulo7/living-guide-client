import{d as e,c as a,o as t,a as l,w as c,b as s,e as n,f as u,t as O,g as S,F as d,r as i,_ as r,h as b,i as o,j as w,k as _,l as j,m as U,n as N,u as J,p as T}from"./index-CzdWTWHp.js";import{_ as f,l as v}from"./dataLoader.DoJNMGuc.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const g=p(e({__name:"CityCard",props:{data:{}},emits:["click"],setup(e,w){var _=w.emit;const j=e,U=_,N=a((()=>{if(j.data.cover_image&&""!==j.data.cover_image.trim())return j.data.cover_image;let e=1;try{const a=j.data.id,t=parseInt(a);isNaN(t)||(e=t)}catch(a){}return"/static/images/".concat(e%4+1,".jpg")})),J=a((()=>j.data.tags.slice(0,2))),T=a((()=>{var e;return(null===(e=j.data.detail)||void 0===e?null:e.guru_comment)||""})),f=()=>U("click");return(e=null,a=null)=>{const w=r,_=b,j=o;return t(),l(j,new UTSJSONObject({class:"card","hover-class":"card-active",onClick:f}),new UTSJSONObject({default:c((()=>[s(j,new UTSJSONObject({class:"cover-box"}),{default:c((()=>[s(w,new UTSJSONObject({class:"cover-image",src:N.value,mode:"aspectFill"}),null,8,["src"]),e.data.is_verified?(t(),l(j,new UTSJSONObject({key:0,class:"trust-badge"}),new UTSJSONObject({default:c((()=>[s(_,new UTSJSONObject({class:"badge-icon"}),{default:c((()=>[n("ğŸ†")])),_:1}),s(_,new UTSJSONObject({class:"badge-text"}),{default:c((()=>[n("UPä¸»å®æ¢")])),_:1})])),_:1}))):u("",!0)])),_:1}),s(j,new UTSJSONObject({class:"content"}),{default:c((()=>[s(j,new UTSJSONObject({class:"header-row"}),{default:c((()=>[s(j,new UTSJSONObject({class:"title-wrap"}),{default:c((()=>[s(_,new UTSJSONObject({class:"city-name"}),{default:c((()=>[n(O(e.data.city),1)])),_:1}),s(_,new UTSJSONObject({class:"district-name"}),{default:c((()=>[n("Â· "+O(e.data.district),1)])),_:1})])),_:1})])),_:1}),s(j,new UTSJSONObject({class:"tags-row"}),{default:c((()=>[e.data.has_hospital_class_a?(t(),l(j,new UTSJSONObject({key:0,class:"tag tag-medical-a"}),new UTSJSONObject({default:c((()=>[s(_,new UTSJSONObject({class:"tag-text-a"}),{default:c((()=>[n("ğŸ¥ ä¸‰ç”²é…å¥—")])),_:1})])),_:1}))):(t(),l(j,new UTSJSONObject({key:1,class:"tag tag-medical-b"}),new UTSJSONObject({default:c((()=>[s(_,new UTSJSONObject({class:"tag-text-b"}),{default:c((()=>[n("ğŸ’Š åŸºç¡€åŒ»ç–—")])),_:1})])),_:1}))),(t(!0),S(d,null,i(J.value,((e=null,a)=>(t(),l(j,new UTSJSONObject({key:a,class:"tag"}),new UTSJSONObject({default:c((()=>[s(_,new UTSJSONObject({class:"tag-text"}),{default:c((()=>[n(O(e),1)])),_:2},1024)])),_:2}),1024)))),128))])),_:1}),s(j,new UTSJSONObject({class:"data-row"}),{default:c((()=>[s(j,new UTSJSONObject({class:"price-group"}),{default:c((()=>[s(j,new UTSJSONObject({class:"rent-wrap"}),{default:c((()=>[s(_,new UTSJSONObject({class:"currency"}),{default:c((()=>[n("Â¥")])),_:1}),s(_,new UTSJSONObject({class:"price-val"}),{default:c((()=>[n(O(e.data.price_rent),1)])),_:1}),s(_,new UTSJSONObject({class:"unit"}),{default:c((()=>[n("/æœˆ")])),_:1})])),_:1}),e.data.price_buy?(t(),l(_,new UTSJSONObject({key:0,class:"buy-price"}),new UTSJSONObject({default:c((()=>[n(" (ä¹°æˆ¿ "+O(e.data.price_buy)+") ",1)])),_:1}))):u("",!0)])),_:1})])),_:1}),T.value?(t(),l(j,new UTSJSONObject({key:0,class:"quote-box"}),new UTSJSONObject({default:c((()=>[s(_,new UTSJSONObject({class:"quote-text"}),{default:c((()=>[n("å°ç¼–: "+O(T.value),1)])),_:1})])),_:1}))):u("",!0)])),_:1})])),_:1}))}}}),[["__scopeId","data-v-e1adce7b"]]),m=p(e({__name:"index",setup(e){const r=w([]),p=w(!0),m=w("all"),y=w(""),h=[new UTSJSONObject({label:"å…¨éƒ¨",value:"all"}),new UTSJSONObject({label:"ğŸ’° ç§Ÿé‡‘<500",value:"cheap"}),new UTSJSONObject({label:"ğŸŒŠ æµ·è¾¹åŸå¸‚",value:"seaside"}),new UTSJSONObject({label:"ğŸŒ¸ å››å­£å¦‚æ˜¥",value:"spring"}),new UTSJSONObject({label:"ğŸ† UPä¸»å®æ¢",value:"verified"})],k=a((()=>{let e=r.value;if("cheap"===m.value?e=e.filter((e=>e.price_rent<=500)):"seaside"===m.value?e=e.filter((e=>e.tags.some((e=>e.includes("æµ·")||e.includes("æ°´"))))):"spring"===m.value?e=e.filter((e=>e.tags.some((e=>e.includes("æ˜¥")||e.includes("é¿æš‘"))))):"verified"===m.value&&(e=e.filter((e=>e.is_verified))),""!==y.value.trim()){const a=y.value.toLowerCase();e=e.filter((e=>e.city.toLowerCase().includes(a)||e.district.toLowerCase().includes(a)||e.tags.some((e=>e.toLowerCase().includes(a)))))}return[...e].sort(((e,a)=>e.price_rent-a.price_rent))})),x=()=>{};return _((()=>f(this,void 0,void 0,(function*(){try{const e=yield v();r.value=e.items,p.value=!1}catch(e){p.value=!1}})))),(e=null,a=null)=>{const r=b,w=o,_=j,f=U;return t(),l(w,new UTSJSONObject({class:"container"}),new UTSJSONObject({default:c((()=>[s(w,new UTSJSONObject({class:"header"}),{default:c((()=>[s(w,new UTSJSONObject({class:"header-text"}),{default:c((()=>[s(r,new UTSJSONObject({class:"title"}),{default:c((()=>[n("èººå¹³æŒ‡å—")])),_:1}),s(r,new UTSJSONObject({class:"subtitle"}),{default:c((()=>[n("ä½æˆæœ¬æ—…å±…å†³ç­–å·¥å…·")])),_:1})])),_:1})])),_:1}),s(w,new UTSJSONObject({class:"search-section"}),{default:c((()=>[s(w,new UTSJSONObject({class:"search-bar"}),{default:c((()=>[s(r,new UTSJSONObject({class:"search-icon"}),{default:c((()=>[n("ğŸ”")])),_:1}),s(_,new UTSJSONObject({class:"search-input",placeholder:"æœç´¢åŸå¸‚ (å¦‚: é¹¤å²—)",modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=(e=null)=>y.value=e),onInput:x}),null,8,["modelValue"])])),_:1})])),_:1}),s(f,new UTSJSONObject({class:"quick-filter",direction:"horizontal","show-scrollbar":!1}),{default:c((()=>[s(w,new UTSJSONObject({class:"filter-container"}),{default:c((()=>[(t(),S(d,null,i(h,(e=>s(w,new UTSJSONObject({key:e.value,class:N(["filter-tag",new UTSJSONObject({active:m.value===e.value})]),onClick:(a=null)=>{return t=e.value,m.value=t;var t}}),{default:c((()=>[s(r,new UTSJSONObject({class:N(["tag-text",m.value===e.value?"active-text":""])}),{default:c((()=>[n(O(e.label),1)])),_:2},1032,["class"])])),_:2},1032,["class","onClick"]))),64)),s(w,new UTSJSONObject({style:new UTSJSONObject({width:"20px",height:"10px"})}))])),_:1})])),_:1}),p.value?(t(),l(w,new UTSJSONObject({key:0,class:"loading-box"}),new UTSJSONObject({default:c((()=>[s(r,new UTSJSONObject({class:"loading-text"}),{default:c((()=>[n("æ­£åœ¨åŠ è½½æ•°æ®...")])),_:1})])),_:1}))):(t(),l(f,new UTSJSONObject({key:1,class:"city-list",direction:"vertical"}),new UTSJSONObject({default:c((()=>[0===k.value.length?(t(),l(w,new UTSJSONObject({key:0,class:"empty-box"}),new UTSJSONObject({default:c((()=>[s(r,new UTSJSONObject({class:"empty-text"}),{default:c((()=>[n("æ²¡æ‰¾åˆ°ç»“æœï¼Œè¯•ç€æ¢ä¸ªè¯ï¼Ÿ")])),_:1})])),_:1}))):u("",!0),(t(!0),S(d,null,i(k.value,(e=>(t(),l(J(g),new UTSJSONObject({key:e.id,data:e,onClick:(a=null)=>{return t=e.id,T({url:"/pages/detail/detail?id=".concat(t)});var t}}),null,8,["data","onClick"])))),128))])),_:1})))])),_:1}))}}}),[["__scopeId","data-v-04c0d2bb"]]);export{m as default};
